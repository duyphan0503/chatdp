# Example environment variables for @chatdp/backend
# Phase 1 â€” Security Baseline + Phase 2 seed vars

# Runtime
NODE_ENV=development
PORT=3000

# CORS allowlist: comma-separated origins or "*" to allow all
# In development, leaving this empty allows all by default
CORS_ORIGINS=*

# Rate limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
# Auth endpoints specific rate limits
RATE_LIMIT_AUTH_TTL=60
RATE_LIMIT_AUTH_LIMIT=5

# WebSocket rate limiting (Phase 5 placeholders)
WS_RATE_LIMIT_TTL=60
WS_RATE_LIMIT_LIMIT=120

# Database
# For local docker-compose Postgres
DATABASE_URL=your_database

# Auth (Phase 3 scaffold)
# Strong secret (>=32 chars). Generate via: pnpm --filter @chatdp/backend gen:jwt-secret
JWT_SECRET=change_me_replace_with_generated_value
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_TTL=7d
# Bind refresh tokens to UA/IP (true|false)
# If granular flags below are not set, this value is used for both UA and IP
REFRESH_BIND_UA_IP=true
# Optional granular toggles (inherit from REFRESH_BIND_UA_IP if unset)
# REFRESH_BIND_UA=true
# REFRESH_BIND_IP=true

# Networking / Proxy
# When behind a reverse proxy/CDN (e.g., Nginx, Cloudflare), set to true to extract client IP from headers
TRUST_PROXY=false

# Logging
# One of: fatal | error | warn | info | debug | trace
LOG_LEVEL=info

# Optional frontend URL (for CORS or links)
# FRONTEND_URL=https://example.com
